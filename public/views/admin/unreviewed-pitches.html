<header class="header" app-header></header>

<section ng-controller="AdminController" class="section section--regular">
  <div class="section-content section-content--has-nav">
    <div class="section-content-nav {{isMobileNavOpen}}" ng-include src="'views/subviews/admin-nav.html'"></div>

    <div class="section-content-content">
      <!-- List All Pitches -->
      <div admin-pitch-list data-status="unreviewed" class="pitch-list">
        <h3 class="card-heading">Unreviewed Pitches</h3>
        <p>Here are all the currently unriewed pitches that have been submitted. Move a pitch to the "under consideration" list if it might possibly be pitched. Immediately reject pitches that will not be pitched.</p>

        <div class="pitch-list-item pitch-list-flexbox">
          <button class="pagination-button btn btn--tertiary" id="prev-button">Prev</button>
          <span>Showing&nbsp;{{pitches.length}}&nbsp;results. (Page&nbsp;{{page}}&nbsp;of&nbsp;{{pages}})</span>
          <button class="pagination-button btn btn--tertiary" id="next-button">Next</button>
        </div>
        <div class="pitch-list-item" admin-pitch ng-repeat="pitch in pitches" data-id="{{pitch._id}}" data-current-status="unreviewed">
          <div class="pitch-genre">{{pitch.genre}} <span class="pitch-list-date">{{returnDate(pitch.paymentToken.created)}}</div>
          <p>{{pitch.pitchText}}</p>
          <p class="pitch-contact" style="font-size: .875rem;">
            <a href="mailto:{{pitch.submitterEmail}}" target="_blank">{{pitch.submitterEmail}}</a><br><a href="tel:{{pitch.submitterPhone}}">{{pitch.submitterPhone}}</a>
          </p>
          <div class="btn-container pitch-actions">
            <button class="btn btn--tertiary" data-to-status="rejected">Reject</button>
            <button class="btn btn--secondary" data-to-status="under_consideration">Move Under Consideration</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>